{
  "id": "00000000-0000-0000-0000-000000000000",
  "prevId": "",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.migrations_log": {
      "name": "migrations_log",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "filename": {
          "name": "filename",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "applied_at": {
          "name": "applied_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "migrations_log_filename_key": {
          "columns": [
            "filename"
          ],
          "nullsNotDistinct": false,
          "name": "migrations_log_filename_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.fb_entry": {
      "name": "fb_entry",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "example": {
          "name": "example",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "see_also": {
          "name": "see_also",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "aka": {
          "name": "aka",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.fb_association": {
      "name": "fb_association",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "main_entry": {
          "name": "main_entry",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "associated_entry": {
          "name": "associated_entry",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "association_text": {
          "name": "association_text",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "strength": {
          "name": "strength",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "example": {
          "name": "example",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "narrower": {
          "name": "narrower",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fb_association_main_entry_fkey": {
          "name": "fb_association_main_entry_fkey",
          "tableFrom": "fb_association",
          "tableTo": "fb_entry",
          "schemaTo": "public",
          "columnsFrom": [
            "main_entry"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "fb_association_associated_entry_fkey": {
          "name": "fb_association_associated_entry_fkey",
          "tableFrom": "fb_association",
          "tableTo": "fb_entry",
          "schemaTo": "public",
          "columnsFrom": [
            "associated_entry"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.fb_affinity": {
      "name": "fb_affinity",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "entry_id": {
          "name": "entry_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fb_affinity_entry_id_fkey": {
          "name": "fb_affinity_entry_id_fkey",
          "tableFrom": "fb_affinity",
          "tableTo": "fb_entry",
          "schemaTo": "public",
          "columnsFrom": [
            "entry_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.fb_dish": {
      "name": "fb_dish",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "entry_id": {
          "name": "entry_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "attribution": {
          "name": "attribution",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fb_dish_entry_id_fkey": {
          "name": "fb_dish_entry_id_fkey",
          "tableFrom": "fb_dish",
          "tableTo": "fb_entry",
          "schemaTo": "public",
          "columnsFrom": [
            "entry_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.fb_note": {
      "name": "fb_note",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "entry_id": {
          "name": "entry_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "note": {
          "name": "note",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "attribution": {
          "name": "attribution",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fb_note_entry_id_fkey": {
          "name": "fb_note_entry_id_fkey",
          "tableFrom": "fb_note",
          "tableTo": "fb_entry",
          "schemaTo": "public",
          "columnsFrom": [
            "entry_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.restaurant_booking": {
      "name": "restaurant_booking",
      "schema": "",
      "columns": {
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "restaurant_id": {
          "name": "restaurant_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "provider_id": {
          "name": "provider_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "restaurant_booking_restaurant_id_fkey": {
          "name": "restaurant_booking_restaurant_id_fkey",
          "tableFrom": "restaurant_booking",
          "tableTo": "restaurant",
          "schemaTo": "public",
          "columnsFrom": [
            "restaurant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "restaurant_booking_provider_id_fkey": {
          "name": "restaurant_booking_provider_id_fkey",
          "tableFrom": "restaurant_booking",
          "tableTo": "booking_provider",
          "schemaTo": "public",
          "columnsFrom": [
            "provider_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_booking": {
          "columns": [
            "restaurant_id",
            "provider_id"
          ],
          "nullsNotDistinct": false,
          "name": "unique_booking"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.booking_provider": {
      "name": "booking_provider",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.fb_meta": {
      "name": "fb_meta",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "entry_id": {
          "name": "entry_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "key": {
          "name": "key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "value": {
          "name": "value",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fb_meta_entry_id_fkey": {
          "name": "fb_meta_entry_id_fkey",
          "tableFrom": "fb_meta",
          "tableTo": "fb_entry",
          "schemaTo": "public",
          "columnsFrom": [
            "entry_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.restaurant_schedules": {
      "name": "restaurant_schedules",
      "schema": "",
      "columns": {
        "restaurant_id": {
          "name": "restaurant_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "schedule_id": {
          "name": "schedule_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "restaurant_schedules_restaurant_id_fkey": {
          "name": "restaurant_schedules_restaurant_id_fkey",
          "tableFrom": "restaurant_schedules",
          "tableTo": "restaurant",
          "schemaTo": "public",
          "columnsFrom": [
            "restaurant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "restaurant_schedules_schedule_id_fkey": {
          "name": "restaurant_schedules_schedule_id_fkey",
          "tableFrom": "restaurant_schedules",
          "tableTo": "restaurant_schedule",
          "schemaTo": "public",
          "columnsFrom": [
            "schedule_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.restaurant_schedule": {
      "name": "restaurant_schedule",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "day": {
          "name": "day",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "closed": {
          "name": "closed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "open": {
          "name": "open",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "close": {
          "name": "close",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.currency": {
      "name": "currency",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "abbr": {
          "name": "abbr",
          "type": "varchar(225)",
          "primaryKey": false,
          "notNull": true
        },
        "symbol": {
          "name": "symbol",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.restaurant_award_distinction": {
      "name": "restaurant_award_distinction",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "restaurant_award_id": {
          "name": "restaurant_award_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "distinction_id": {
          "name": "distinction_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "restaurant_award_distinction_restaurant_award_id_fkey": {
          "name": "restaurant_award_distinction_restaurant_award_id_fkey",
          "tableFrom": "restaurant_award_distinction",
          "tableTo": "restaurant_award",
          "schemaTo": "public",
          "columnsFrom": [
            "restaurant_award_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "restaurant_award_distinction_distinction_id_fkey": {
          "name": "restaurant_award_distinction_distinction_id_fkey",
          "tableFrom": "restaurant_award_distinction",
          "tableTo": "award_distinction",
          "schemaTo": "public",
          "columnsFrom": [
            "distinction_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.ingredients": {
      "name": "ingredients",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "ingredients_name_key": {
          "columns": [
            "name"
          ],
          "nullsNotDistinct": false,
          "name": "ingredients_name_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.ingredient_category": {
      "name": "ingredient_category",
      "schema": "",
      "columns": {
        "ingredient_id": {
          "name": "ingredient_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "category_id": {
          "name": "category_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "ingredient_category_ingredient_id_fkey": {
          "name": "ingredient_category_ingredient_id_fkey",
          "tableFrom": "ingredient_category",
          "tableTo": "ingredients",
          "schemaTo": "public",
          "columnsFrom": [
            "ingredient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "ingredient_category_category_id_fkey": {
          "name": "ingredient_category_category_id_fkey",
          "tableFrom": "ingredient_category",
          "tableTo": "ingredients",
          "schemaTo": "public",
          "columnsFrom": [
            "category_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.cuisine": {
      "name": "cuisine",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "cuisine_name_key": {
          "columns": [
            "name"
          ],
          "nullsNotDistinct": false,
          "name": "cuisine_name_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.locations": {
      "name": "locations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "location_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "parent_id": {
          "name": "parent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "abbr": {
          "name": "abbr",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "locations_parent_id_fkey": {
          "name": "locations_parent_id_fkey",
          "tableFrom": "locations",
          "tableTo": "locations",
          "schemaTo": "public",
          "columnsFrom": [
            "parent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.award_type": {
      "name": "award_type",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "award_type_name_key": {
          "columns": [
            "name"
          ],
          "nullsNotDistinct": false,
          "name": "award_type_name_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.award_distinction": {
      "name": "award_distinction",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "award_type_id": {
          "name": "award_type_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "award_distinction_award_type_id_fkey": {
          "name": "award_distinction_award_type_id_fkey",
          "tableFrom": "award_distinction",
          "tableTo": "award_type",
          "schemaTo": "public",
          "columnsFrom": [
            "award_type_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "award_distinction_name_key": {
          "columns": [
            "name"
          ],
          "nullsNotDistinct": false,
          "name": "award_distinction_name_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.restaurant": {
      "name": "restaurant",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "longitude": {
          "name": "longitude",
          "type": "double precision",
          "primaryKey": false,
          "notNull": false
        },
        "latitude": {
          "name": "latitude",
          "type": "double precision",
          "primaryKey": false,
          "notNull": false
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "website": {
          "name": "website",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "currency_id": {
          "name": "currency_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "phone": {
          "name": "phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "street_address": {
          "name": "street_address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "postcode": {
          "name": "postcode",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "restaurant_currency_id_fkey": {
          "name": "restaurant_currency_id_fkey",
          "tableFrom": "restaurant",
          "tableTo": "currency",
          "schemaTo": "public",
          "columnsFrom": [
            "currency_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "restaurant_location_id_fkey": {
          "name": "restaurant_location_id_fkey",
          "tableFrom": "restaurant",
          "tableTo": "locations",
          "schemaTo": "public",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_name_loc": {
          "columns": [
            "name",
            "longitude",
            "latitude"
          ],
          "nullsNotDistinct": false,
          "name": "unique_name_loc"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.restaurant_award": {
      "name": "restaurant_award",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "restaurant_id": {
          "name": "restaurant_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "award_type_id": {
          "name": "award_type_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "award_date": {
          "name": "award_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "rank": {
          "name": "rank",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "restaurant_award_restaurant_id_fkey": {
          "name": "restaurant_award_restaurant_id_fkey",
          "tableFrom": "restaurant_award",
          "tableTo": "restaurant",
          "schemaTo": "public",
          "columnsFrom": [
            "restaurant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "restaurant_award_award_type_id_fkey": {
          "name": "restaurant_award_award_type_id_fkey",
          "tableFrom": "restaurant_award",
          "tableTo": "award_type",
          "schemaTo": "public",
          "columnsFrom": [
            "award_type_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_awards": {
          "columns": [
            "restaurant_id",
            "award_type_id",
            "award_date"
          ],
          "nullsNotDistinct": false,
          "name": "unique_awards"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.coffee_roasters": {
      "name": "coffee_roasters",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "coffee_roasters_location_id_fkey": {
          "name": "coffee_roasters_location_id_fkey",
          "tableFrom": "coffee_roasters",
          "tableTo": "locations",
          "schemaTo": "public",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.coffee_farms": {
      "name": "coffee_farms",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "coffee_farms_location_id_fkey": {
          "name": "coffee_farms_location_id_fkey",
          "tableFrom": "coffee_farms",
          "tableTo": "locations",
          "schemaTo": "public",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.coffee_processes": {
      "name": "coffee_processes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.coffee_beans": {
      "name": "coffee_beans",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "altitude": {
          "name": "altitude",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "roast_date": {
          "name": "roast_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "tasting_notes": {
          "name": "tasting_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "roaster_id": {
          "name": "roaster_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "producer_id": {
          "name": "producer_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "farm_id": {
          "name": "farm_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "varietal_id": {
          "name": "varietal_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "coffee_beans_roaster_id_fkey": {
          "name": "coffee_beans_roaster_id_fkey",
          "tableFrom": "coffee_beans",
          "tableTo": "coffee_roasters",
          "schemaTo": "public",
          "columnsFrom": [
            "roaster_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "coffee_beans_location_id_fkey": {
          "name": "coffee_beans_location_id_fkey",
          "tableFrom": "coffee_beans",
          "tableTo": "locations",
          "schemaTo": "public",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "coffee_beans_producer_id_fkey": {
          "name": "coffee_beans_producer_id_fkey",
          "tableFrom": "coffee_beans",
          "tableTo": "coffee_producers",
          "schemaTo": "public",
          "columnsFrom": [
            "producer_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "coffee_beans_farm_id_fkey": {
          "name": "coffee_beans_farm_id_fkey",
          "tableFrom": "coffee_beans",
          "tableTo": "coffee_farms",
          "schemaTo": "public",
          "columnsFrom": [
            "farm_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "coffee_beans_varietal_id_fkey": {
          "name": "coffee_beans_varietal_id_fkey",
          "tableFrom": "coffee_beans",
          "tableTo": "coffee_varietals",
          "schemaTo": "public",
          "columnsFrom": [
            "varietal_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.coffee_producers": {
      "name": "coffee_producers",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.coffee_varietals": {
      "name": "coffee_varietals",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.fb_affinity_entry": {
      "name": "fb_affinity_entry",
      "schema": "",
      "columns": {
        "affinity_id": {
          "name": "affinity_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "entry_id": {
          "name": "entry_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fb_affinity_entry_affinity_id_fkey": {
          "name": "fb_affinity_entry_affinity_id_fkey",
          "tableFrom": "fb_affinity_entry",
          "tableTo": "fb_affinity",
          "schemaTo": "public",
          "columnsFrom": [
            "affinity_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "fb_affinity_entry_entry_id_fkey": {
          "name": "fb_affinity_entry_entry_id_fkey",
          "tableFrom": "fb_affinity_entry",
          "tableTo": "fb_entry",
          "schemaTo": "public",
          "columnsFrom": [
            "entry_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "fb_affinity_entry_pkey": {
          "name": "fb_affinity_entry_pkey",
          "columns": [
            "affinity_id",
            "entry_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.restaurant_cuisine": {
      "name": "restaurant_cuisine",
      "schema": "",
      "columns": {
        "restaurant_id": {
          "name": "restaurant_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "cuisine_id": {
          "name": "cuisine_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "restaurant_cuisine_restaurant_id_fkey": {
          "name": "restaurant_cuisine_restaurant_id_fkey",
          "tableFrom": "restaurant_cuisine",
          "tableTo": "restaurant",
          "schemaTo": "public",
          "columnsFrom": [
            "restaurant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "restaurant_cuisine_cuisine_id_fkey": {
          "name": "restaurant_cuisine_cuisine_id_fkey",
          "tableFrom": "restaurant_cuisine",
          "tableTo": "cuisine",
          "schemaTo": "public",
          "columnsFrom": [
            "cuisine_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "restaurant_cuisine_pkey": {
          "name": "restaurant_cuisine_pkey",
          "columns": [
            "restaurant_id",
            "cuisine_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.location_type": {
      "name": "location_type",
      "values": [
        "country",
        "state",
        "city",
        "neighborhood"
      ],
      "schema": "public"
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {
    "public.restaurant_booking_view": {
      "name": "restaurant_booking_view",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "booking": {
          "name": "booking",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT r.id, COALESCE(json_agg(jsonb_build_object('name', bp.name, 'id', bp.id, 'url', rb.url)) FILTER (WHERE bp.id IS NOT NULL), '[]'::json) AS booking FROM restaurant r LEFT JOIN restaurant_booking rb ON rb.restaurant_id = r.id LEFT JOIN booking_provider bp ON bp.id = rb.provider_id GROUP BY r.id",
      "materialized": false
    },
    "public.enriched_restaurant": {
      "name": "enriched_restaurant",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "website": {
          "name": "website",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "phone": {
          "name": "phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "street_address": {
          "name": "street_address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "postcode": {
          "name": "postcode",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "locations": {
          "name": "locations",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "cuisines": {
          "name": "cuisines",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "awards": {
          "name": "awards",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "booking": {
          "name": "booking",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT r.id, r.name, r.website, r.phone, r.street_address, r.postcode, rl.locations, rc.cuisines, ra.awards, rb.booking FROM restaurant r LEFT JOIN restaurant_awards ra ON ra.id = r.id LEFT JOIN restaurant_cuisines rc ON rc.id = r.id LEFT JOIN restaurant_locations rl ON rl.id = r.id LEFT JOIN restaurant_booking_view rb ON rb.id = r.id",
      "materialized": false
    },
    "public.restaurant_locations": {
      "name": "restaurant_locations",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "locations": {
          "name": "locations",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "WITH RECURSIVE location_hierarchy AS ( SELECT r.id AS restaurant_id, r.name AS restaurant_name, l.id AS location_id, l.name AS location_name, l.type AS location_type, l.abbr AS location_abbr, l.parent_id, 0 AS depth FROM restaurant r JOIN locations l ON r.location_id = l.id UNION ALL SELECT lh_1.restaurant_id, lh_1.restaurant_name, l.id AS location_id, l.name AS location_name, l.type AS location_type, l.abbr AS location_abbr, l.parent_id, lh_1.depth + 1 FROM locations l JOIN location_hierarchy lh_1 ON l.id = lh_1.parent_id ) SELECT restaurant_id AS id, json_agg(json_build_object('id', location_id, 'name', location_name, 'type', location_type, 'abbr', location_abbr) ORDER BY depth DESC) AS locations FROM location_hierarchy lh GROUP BY restaurant_id, restaurant_name",
      "materialized": false
    },
    "public.restaurant_awards": {
      "name": "restaurant_awards",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "awards": {
          "name": "awards",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT r.id, r.name, COALESCE(json_agg(DISTINCT jsonb_build_object('id', at.id, 'award', at.name, 'date', ra.award_date, 'distinctions', COALESCE(( SELECT json_agg(jsonb_build_object('id', ad.id, 'name', ad.name)) AS json_agg FROM restaurant_award_distinction rad LEFT JOIN award_distinction ad ON rad.distinction_id = ad.id WHERE ra.award_type_id = at.id AND ra.restaurant_id = r.id AND rad.restaurant_award_id = ra.id), '[]'::json))) FILTER (WHERE at.id IS NOT NULL), '[]'::json) AS awards FROM restaurant r LEFT JOIN restaurant_award ra ON ra.restaurant_id = r.id LEFT JOIN award_type at ON ra.award_type_id = at.id GROUP BY r.id, r.name",
      "materialized": false
    },
    "public.restaurant_cuisines": {
      "name": "restaurant_cuisines",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "cuisines": {
          "name": "cuisines",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT r.id, COALESCE(json_agg(jsonb_build_object('name', c.name, 'id', c.id)) FILTER (WHERE c.id IS NOT NULL), '[]'::json) AS cuisines FROM restaurant r LEFT JOIN restaurant_cuisine rc ON rc.restaurant_id = r.id LEFT JOIN cuisine c ON rc.cuisine_id = c.id GROUP BY r.id, r.name",
      "materialized": false
    }
  },
  "_meta": {
    "schemas": {},
    "tables": {},
    "columns": {}
  },
  "internal": {
    "tables": {
      "fb_association": {
        "columns": {
          "example": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "narrower": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      }
    }
  }
}